"use strict";(self.webpackChunkwww=self.webpackChunkwww||[]).push([[1635],{27406:(e,r,n)=>{n.r(r),n.d(r,{default:()=>x});var t=n(68102),o=n(49257),a=n(80905),i=n(73562),l=n(98557),u={modified:{doc:""},original:{doc:""}},c=(0,a.createContext)(u);function d(e,r){return(0,t.A)({},e,r,{modified:(0,t.A)({},e.modified,r.modified),original:(0,t.A)({},e.original,r.original)})}var f=()=>(0,a.useContext)(c),s=e=>{var{children:r,theme:n}=e,[o,i]=(0,a.useReducer)(d,(0,t.A)({},u,{theme:n}));return(0,a.useEffect)((()=>i({theme:n})),[n]),(0,l.jsx)(c.Provider,{value:(0,t.A)({},o,{dispatch:i}),children:r})},g=["extensions","value","selection","onChange"],v=e=>{var{extensions:r=[],value:n,selection:l,onChange:u}=e,c=(0,o.A)(e,g),{theme:d,dispatch:s}=f(),v=(0,i.IA)((0,t.A)({},c,{theme:d}));return(0,a.useEffect)((()=>s({original:{doc:n,selection:l,extensions:[...v,...r]},originalExtension:{onChange:u,option:c,extension:[r]}})),[e]),null};v.displayName="CodeMirrorMerge.Original";var p=["extensions","value","selection","onChange"],h=e=>{var{extensions:r=[],value:n,selection:l,onChange:u}=e,c=(0,o.A)(e,p),{theme:d,dispatch:s}=f(),g=(0,i.IA)((0,t.A)({},c,{theme:d}));return(0,a.useEffect)((()=>{s({modified:{doc:n,selection:l,extensions:[...g,...r]},modifiedExtension:{onChange:u,option:c,extension:[r]}})}),[e]),null};h.displayName="CodeMirrorMerge.Modified";var y=n(60125),m=n(67538),_=["className","children","orientation","revertControls","highlightChanges","gutter","collapseUnchanged","destroyRerender","renderRevertControl"],M=["modified","modifiedExtension","original","originalExtension","theme","dispatch"],C=a.forwardRef(((e,r)=>{var{className:n,children:u,orientation:c,revertControls:d,highlightChanges:s,gutter:g,collapseUnchanged:v,destroyRerender:p=!0,renderRevertControl:h}=e,C=(0,o.A)(e,_),b=f(),{modified:A,modifiedExtension:x,original:S,originalExtension:E,theme:w,dispatch:R}=b,O=(0,o.A)(b,M),j=(0,a.useRef)(null),k=(0,a.useRef)(),I={orientation:c,revertControls:d,highlightChanges:s,gutter:g,collapseUnchanged:v,renderRevertControl:h};(0,a.useImperativeHandle)(r,(()=>({container:j.current,view:k.current,modified:A,original:S,config:(0,t.A)({a:S,b:A,parent:j.current},I)})),[j,k,A,S,I]);var P=m.Lz.updateListener.of((e=>{if(e.docChanged&&"function"===typeof(null==E?void 0:E.onChange)){var r=e.state.doc.toString();null==E||E.onChange(r,e)}})),T=m.Lz.updateListener.of((e=>{if(e.docChanged&&"function"===typeof(null==x?void 0:x.onChange)){var r=e.state.doc.toString();null==x||x.onChange(r,e)}}));(0,a.useEffect)((()=>{!k.current&&j.current&&E&&x&&(k.current=new y.SV((0,t.A)({a:(0,t.A)({},S,{extensions:[...(null==E?void 0:E.extension)||[],...(0,i.IA)((0,t.A)({},null==E?void 0:E.option,{theme:w})),P]}),b:(0,t.A)({},A,{extensions:[...(null==x?void 0:x.extension)||[],...(0,i.IA)((0,t.A)({},null==x?void 0:x.option,{theme:w})),T]}),parent:j.current},I)),R({view:k.current}))}),[k,j,E,x]),(0,a.useEffect)((()=>{if(S&&S.doc&&k.current){var e,r,n=null==(e=k.current)?void 0:e.a.state.doc.toString();if(n!==S.doc)null==(r=k.current)||r.a.dispatch({changes:{from:0,to:n.length,insert:S.doc||""}})}if(A&&A.doc&&k.current){var o,a,l=null==(o=k.current)?void 0:o.b.state.doc.toString();if(l!==A.doc)null==(a=k.current)||a.b.dispatch({changes:{from:0,to:l.length,insert:A.doc||""}})}if(p&&k.current){var u=k.current.a.state.selection.ranges[0].from,c=k.current.b.state.selection.ranges[0].from;k.current.destroy(),k.current=new y.SV((0,t.A)({a:(0,t.A)({},S,{extensions:[...(null==E?void 0:E.extension)||[],...(0,i.IA)((0,t.A)({},null==E?void 0:E.option,{theme:w}))]}),b:(0,t.A)({},A,{extensions:[...(null==x?void 0:x.extension)||[],...(0,i.IA)((0,t.A)({},null==x?void 0:x.option,{theme:w}))]}),parent:j.current},I)),u&&(k.current.a.focus(),k.current.a.dispatch({selection:{anchor:u,head:u}})),c&&(k.current.b.focus(),k.current.b.dispatch({selection:{anchor:c,head:c}}))}}),[k,w,j.current,S,A,E,x,p]),(0,a.useEffect)((()=>()=>k.current&&k.current.destroy()),[]),(0,a.useEffect)((()=>{if(k.current){var e={};O.orientation!==c&&(e.orientation=c),O.revertControls!==d&&(e.revertControls=d),O.highlightChanges!==s&&(e.highlightChanges=s),O.gutter!==g&&(e.gutter=g),O.collapseUnchanged!==v&&(e.collapseUnchanged=v),O.renderRevertControl!==h&&(e.collapseUnchanged=v),Object.keys(e).length&&R&&k.current&&(k.current.reconfigure((0,t.A)({},e)),R((0,t.A)({},e)))}}),[R,k,c,d,s,g,v,h]);return(0,l.jsx)("div",(0,t.A)({ref:j,className:"cm-merge-theme"+(n?" "+n:"")},C,{children:u}))}));C.displayName="CodeMirrorMerge.Internal";var b=["theme"],A=a.forwardRef(((e,r)=>{var{theme:n}=e,a=(0,o.A)(e,b);return(0,l.jsx)(s,{theme:n,children:(0,l.jsx)(C,(0,t.A)({},a,{ref:r}))})}));A.Original=v,A.Modified=h,A.displayName="CodeMirrorMerge";const x=A},31635:(e,r,n)=>{n.r(r),n.d(r,{default:()=>t});const t={components:{3:function(){function e(r){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(r)}var r,t=function(r,n){if(!n&&r&&r.__esModule)return r;if(null===r||"object"!=e(r)&&"function"!=typeof r)return{default:r};var t=a(n);if(t&&t.has(r))return t.get(r);var o={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in r)if("default"!==l&&{}.hasOwnProperty.call(r,l)){var u=i?Object.getOwnPropertyDescriptor(r,l):null;u&&(u.get||u.set)?Object.defineProperty(o,l,u):o[l]=r[l]}return o.default=r,t&&t.set(r,o),o}(n(80905)),o=(r=n(27406))&&r.__esModule?r:{default:r};function a(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,n=new WeakMap;return(a=function(e){return e?n:r})(e)}function i(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var t,o,a,i,l=[],u=!0,c=!1;try{if(a=(n=n.call(e)).next,0===r){if(Object(n)!==n)return;u=!1}else for(;!(u=(t=a.call(n)).done)&&(l.push(t.value),l.length!==r);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(c)throw o}}return l}}(e,r)||function(e,r){if(e){if("string"==typeof e)return l(e,r);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,r):void 0}}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,r){(null==r||r>e.length)&&(r=e.length);for(var n=0,t=Array(r);n<r;n++)t[n]=e[n];return t}var u=o.default.Original,c=o.default.Modified,d="one\ntwo\nthree\nfour\nfive";return function(){var e=i((0,t.useState)(d),2),r=e[0],n=e[1],a=i((0,t.useState)(d),2),l=a[0],f=a[1];return t.default.createElement("div",null,t.default.createElement(o.default,{destroyRerender:!1},t.default.createElement(u,{onChange:function(e){console.log("~~:1",e),n(e)},value:r}),t.default.createElement(c,{onChange:function(e){console.log("~~:2",e),f(e)},value:l})),t.default.createElement("div",{style:{display:"flex",marginTop:10}},t.default.createElement("pre",{style:{flex:1}},r," "),t.default.createElement("pre",{style:{backgroundColor:"#fff",flex:1}},l," ")))}}()},data:{3:{name:3,meta:{},code:'"use strict";\n\nfunction _typeof(o) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o; }, _typeof(o); }\nvar _react = _interopRequireWildcard(require("react"));\nvar _reactCodemirrorMerge = _interopRequireDefault(require("react-codemirror-merge"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { "default": e }; }\nfunction _getRequireWildcardCache(e) { if ("function" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || "object" != _typeof(e) && "function" != typeof e) return { "default": e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if ("default" !== u && {}.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n["default"] = e, t && t.set(e, n), n; }\nfunction _slicedToArray(r, e) { return _arrayWithHoles(r) || _iterableToArrayLimit(r, e) || _unsupportedIterableToArray(r, e) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }\nfunction _unsupportedIterableToArray(r, a) { if (r) { if ("string" == typeof r) return _arrayLikeToArray(r, a); var t = {}.toString.call(r).slice(8, -1); return "Object" === t && r.constructor && (t = r.constructor.name), "Map" === t || "Set" === t ? Array.from(r) : "Arguments" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0; } }\nfunction _arrayLikeToArray(r, a) { (null == a || a > r.length) && (a = r.length); for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e]; return n; }\nfunction _iterableToArrayLimit(r, l) { var t = null == r ? null : "undefined" != typeof Symbol && r[Symbol.iterator] || r["@@iterator"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t["return"] && (u = t["return"](), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction _arrayWithHoles(r) { if (Array.isArray(r)) return r; }\nvar Original = _reactCodemirrorMerge["default"].Original;\nvar Modified = _reactCodemirrorMerge["default"].Modified;\nvar doc = "one\\ntwo\\nthree\\nfour\\nfive";\nreturn function App() {\n  var _useState = (0, _react.useState)(doc),\n    _useState2 = _slicedToArray(_useState, 2),\n    value = _useState2[0],\n    setValue = _useState2[1];\n  var _useState3 = (0, _react.useState)(doc),\n    _useState4 = _slicedToArray(_useState3, 2),\n    valueModified = _useState4[0],\n    setValueModified = _useState4[1];\n  return /*#__PURE__*/_react["default"].createElement("div", null, /*#__PURE__*/_react["default"].createElement(_reactCodemirrorMerge["default"], {\n    destroyRerender: false\n  }, /*#__PURE__*/_react["default"].createElement(Original, {\n    onChange: function onChange(val) {\n      console.log(\'~~:1\', val);\n      setValue(val);\n    },\n    value: value\n  }), /*#__PURE__*/_react["default"].createElement(Modified, {\n    onChange: function onChange(val) {\n      console.log(\'~~:2\', val);\n      setValueModified(val);\n    },\n    value: valueModified\n  })), /*#__PURE__*/_react["default"].createElement("div", {\n    style: {\n      display: \'flex\',\n      marginTop: 10\n    }\n  }, /*#__PURE__*/_react["default"].createElement("pre", {\n    style: {\n      flex: 1\n    }\n  }, value, " "), /*#__PURE__*/_react["default"].createElement("pre", {\n    style: {\n      backgroundColor: \'#fff\',\n      flex: 1\n    }\n  }, valueModified, " ")));\n};',language:"jsx",value:"import React, { useState } from 'react';\nimport CodeMirrorMerge from 'react-codemirror-merge';\n\nconst Original = CodeMirrorMerge.Original;\nconst Modified = CodeMirrorMerge.Modified;\nlet doc = `one\ntwo\nthree\nfour\nfive`;\n\nexport default function App() {\n  const [value, setValue] = useState(doc);\n  const [valueModified, setValueModified] = useState(doc);\n  return (\n    <div>\n      <CodeMirrorMerge destroyRerender={false}>\n        <Original\n          onChange={(val) => {\n            console.log('~~:1', val);\n            setValue(val);\n          }}\n          value={value}\n        />\n        <Modified\n          onChange={(val) => {\n            console.log('~~:2', val);\n            setValueModified(val);\n          }}\n          value={valueModified}\n        />\n      </CodeMirrorMerge>\n      <div style={{ display: 'flex', marginTop: 10 }}>\n        <pre style={{ flex: 1 }}>{value} </pre>\n        <pre style={{ backgroundColor: '#fff', flex: 1 }}>{valueModified} </pre>\n      </div>\n    </div>\n  );\n}"}},source:"# onChange Example\n\n```jsx mdx:preview\nimport React, { useState } from 'react';\nimport CodeMirrorMerge from 'react-codemirror-merge';\n\nconst Original = CodeMirrorMerge.Original;\nconst Modified = CodeMirrorMerge.Modified;\nlet doc = `one\ntwo\nthree\nfour\nfive`;\n\nexport default function App() {\n  const [value, setValue] = useState(doc);\n  const [valueModified, setValueModified] = useState(doc);\n  return (\n    <div>\n      <CodeMirrorMerge destroyRerender={false}>\n        <Original\n          onChange={(val) => {\n            console.log('~~:1', val);\n            setValue(val);\n          }}\n          value={value}\n        />\n        <Modified\n          onChange={(val) => {\n            console.log('~~:2', val);\n            setValueModified(val);\n          }}\n          value={valueModified}\n        />\n      </CodeMirrorMerge>\n      <div style={{ display: 'flex', marginTop: 10 }}>\n        <pre style={{ flex: 1 }}>{value} </pre>\n        <pre style={{ backgroundColor: '#fff', flex: 1 }}>{valueModified} </pre>\n      </div>\n    </div>\n  );\n}\n```\n",headings:[],headingsList:[]}}}]);
//# sourceMappingURL=1635.349e0680.chunk.js.map